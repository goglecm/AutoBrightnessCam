TODO list:

features:
- add support for seamless brightness change
- add some sort of tap filtering when reading the ambient brightness
- add logs in each condition/loop and before each return
- add timestamp for the logs
- (later) add module name appended to the log name (i.e. register each module
  with the logger)

testing:
- add support for gmock

improvements:
- move file manipulation functionality into a separate module (once used by multiple modules)
- remove the terminal module and rather than calling system/popen properly
  implement what the command are supposed to do
- add support for multiple build trees to allow tests to run in parallel
- add more build flags (but keep in mind that other compilers may not be happy)
- simplify the commands to run individual tests from a module
- perhaps allow to specify (via env var a path for the log)

configuration:
- add gtest as a devel library with this specific version
- generalise file paths used (as they get created in ~)
- generalise project path (use the full to a makefile?)
- start looking at rpm generation (deb as well)

Note: right now the logs are persistent across an entire test run

Requirements:

Functional requirements:

Requirement:
    What:
    - the backlight brightness is periodically set to the ambient brightness
    When:
    - the laptop is on battery
    Conditions:
    - the set brightness does not exceed the maximum brightness threshold
    - the set brightness is not less than the minimum brightness threshold

Requirement:
    What:
    - the minimum and maximum brightness thresholds are read from a
      configuration file
    When:
    - initially, before any brightness changes

Requirement:
    What:
    - the backlight brightness is set to the maximum brightness threshold
    When:
    - the laptop is charging

Requirement:
    What:
    - the backlight brightness is not changed
    When:
    - the laptop lid is closed
    - the power manager is in reduced brightness mode
    - the power manager is in blank display mode

Requirement:
    What:
    - the default state of the laptop battery is assumed to be charging
    When:
    - the state of the laptop battery could not be determined

Requirement:
    What:
    - the default state of the laptop lid is assumed to be open
    When:
    - the state of the laptop lid cannot be determined

Requirement:
    What:
    - the power manager mode is assumed to be active (default)
    When:
    - the power manager mode cannot be determined

Requirement:
    What:
    - the application issues an error and exits
    When:
    - the brightness could not be updated during 3*N seconds

Requirement:
    What:
    - the N value, minimum and maximum brightness thresholds are set to their
      default values and a warning is issued by the application
    When:
    - the configuration file does not exist
    - the configuration file is corrupt or has invalid configuration

----

Dependencies:

- (interface done) [mandatory] backlight brightness control
- (interface done) [mandatory] ambient light sensor control
- (interface done) [mandatory] time control (to be able to count time)
- [optional] filesystem (for the configuration file)
- [optional] laptop battery state
- [optional] laptop lid state
- [optional] power manager mode

----

Future ideas:

- allow the user to point the paths for any unavailable optional features
